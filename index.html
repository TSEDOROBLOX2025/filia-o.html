<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Filia√ß√£o Partid√°ria ‚Äì RP Brookasil</title>

<style>
body{font-family:Arial;background:#eef4f7;margin:0}
header{background:linear-gradient(90deg,#0a7cff,#0bb37b);color:#fff;padding:20px;text-align:center}
main{max-width:1200px;margin:auto;padding:20px}
h2{color:#0a7cff}
.box{background:#fff;padding:20px;border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,.1);margin-bottom:25px}
label{font-weight:bold;margin-top:12px;display:block}
input,select,button{width:100%;padding:10px;margin-top:5px}
button{background:#0bb37b;color:#fff;border:none;border-radius:6px;cursor:pointer}
button:hover{background:#099b69}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:6px;text-align:center;font-size:13px}
th{background:#0a7cff;color:#fff}
.hidden{display:none}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:20px}
@media(max-width:800px){.grid{grid-template-columns:1fr}}
</style>
</head>

<body>
<header>
<h1>üó≥Ô∏è Sistema de Filia√ß√£o Partid√°ria</h1>
<p>RESPONDA TUDO SOBRE O RP !!</p>
</header>

<main>

<div class="box">
<h2>üìÑ Ficha de Filia√ß√£o</h2>
<form id="formFiliacao">

<label>Nome e sobrenome</label>
<input id="nome" required>

<label>Data de nascimento</label>
<input type="date" id="nascimento" required>

<label>Zona Eleitoral</label>
<select id="zona" required>
<option value="">Selecione</option>
<optgroup label="BH"><option>BH-01</option><option>BH-02</option><option>BH-03</option><option>BH-04</option><option>BH-05</option><option>BH-06</option><option>BH-07</option><option>BH-08</option><option>BH-09</option><option>BH-10</option><option>BH-11</option><option>BH-12</option><option>BH-13</option><option>BH-14</option></optgroup>
<optgroup label="NC"><option>NC-01</option><option>NC-02</option><option>NC-03</option><option>NC-04</option><option>NC-05</option><option>NC-06</option><option>NC-07</option><option>NC-08</option><option>NC-09</option><option>NC-10</option><option>NC-11</option></optgroup>
<optgroup label="CT"><option>CT-01</option><option>CT-02</option><option>CT-03</option><option>CT-04</option><option>CT-05</option><option>CT-06</option><option>CT-07</option><option>CT-08</option><option>CT-09</option><option>CT-10</option><option>CT-11</option><option>CT-12</option></optgroup>
<optgroup label="FM"><option>FM-01</option><option>FM-02</option><option>FM-03</option><option>FM-04</option><option>FM-05</option><option>FM-06</option><option>FM-07</option><option>FM-08</option><option>FM-09</option><option>FM-10</option></optgroup>
<optgroup label="FX"><option>FX-01</option><option>FX-02</option><option>FX-03</option><option>FX-04</option><option>FX-05</option><option>FX-06</option><option>FX-07</option><option>FX-08</option><option>FX-09</option><option>FX-10</option><option>FX-11</option><option>FX-12</option><option>FX-13</option><option>FX-14</option></optgroup>
</select>

<label>CPF (RP)</label>
<input id="cpf" required>

<label>TikTok</label>
<input id="tiktok" required>

<label>Lado Pol√≠tico</label>
<select id="lado" required>
<option value="">Selecione</option>
<option>Direita</option>
<option>Centro</option>
<option>Esquerda</option>
</select>

<label>Partido</label>
<select id="partido" required>
<option value="">Selecione o lado primeiro</option>
</select>

<button type="submit">üìå Confirmar Filia√ß√£o</button>
</form>
</div>

<div class="grid">
<div class="box">
<h2>üìä Partidos mais escolhidos</h2>
<table>
<thead><tr><th>Partido</th><th>Filiados</th></tr></thead>
<tbody id="contadorPartidos"></tbody>
</table>
</div>

<div class="box">
<h2>üó∫Ô∏è Zonas mais escolhidas</h2>
<table>
<thead><tr><th>Zona</th><th>Fichas</th></tr></thead>
<tbody id="contadorZonas"></tbody>
</table>
</div>
</div>

<div class="box">
<h2>üîê Painel ADM</h2>
<input type="password" id="senhaAdm" placeholder="Senha ADM">
<button onclick="entrarAdm()">Entrar</button>
<div id="areaAdm" class="hidden">
<p><b>Total de fichas:</b> <span id="total">0</span></p>
</div>
</div>

</main>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
 apiKey: "AIzaSyAa3kVxX8MgCija6tvSZor0aAMbYhQwcE8",
 authDomain: "filiacao-rp.firebaseapp.com",
 databaseURL: "https://filiacao-rp-default-rtdb.firebaseio.com",
 projectId: "filiacao-rp",
 storageBucket: "filiacao-rp.firebasestorage.app",
 messagingSenderId: "998954686242",
 appId: "1:998954686242:web:da98af92b92108915b377b"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const ref = db.ref("filiacoes");

const SENHA_ADM = "1234";

/* PARTIDOS */
const partidos = { /* (mantido igual ao seu) */
  Direita:[ /* ... lista completa ... */ ],
  Centro:[ /* ... lista completa ... */ ],
  Esquerda:[ /* ... lista completa ... */ ]
};

const lado = document.getElementById("lado");
const partido = document.getElementById("partido");
const form = document.getElementById("formFiliacao");

lado.onchange = ()=>{
 partido.innerHTML="<option value=''>Selecione</option>";
 partidos[lado.value].forEach(p=>{
  const o=document.createElement("option");
  o.textContent=o.value=p;
  partido.appendChild(o);
 });
};

form.onsubmit = e=>{
 e.preventDefault();
 ref.push({
  nome:nome.value,
  nascimento:nascimento.value,
  zona:zona.value,
  cpf:cpf.value,
  tiktok:tiktok.value,
  lado:lado.value,
  partido:partido.value,
  data:Date.now()
 });
 form.reset();
};

ref.on("value", snap=>{
 const dados=snap.val()||{};
 const p={},z={};
 contadorPartidos.innerHTML="";
 contadorZonas.innerHTML="";
 let t=0;

 Object.values(dados).forEach(f=>{
  t++;
  p[f.partido]=(p[f.partido]||0)+1;
  z[f.zona]=(z[f.zona]||0)+1;
 });

 for(let k in p)
  contadorPartidos.innerHTML+=`<tr><td>${k}</td><td>${p[k]}</td></tr>`;
 for(let k in z)
  contadorZonas.innerHTML+=`<tr><td>${k}</td><td>${z[k]}</td></tr>`;

 total.textContent=t;
});

function entrarAdm(){
 if(senhaAdm.value===SENHA_ADM)
  areaAdm.classList.remove("hidden");
 else alert("Senha incorreta");
}
</script>

</body>
</html>
