<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Brookasil â€“ Sistema Oficial</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#eef4f7;margin:0}
header{background:linear-gradient(90deg,#0a7cff,#0bb37b);color:#fff;padding:20px;text-align:center}
nav{display:flex;gap:10px;justify-content:center;background:#fff;padding:10px}
nav button{padding:10px;border:none;border-radius:6px;cursor:pointer}
main{max-width:1200px;margin:auto;padding:20px}
.box{background:#fff;padding:20px;border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,.1);margin-bottom:25px}
.hidden{display:none}
label{font-weight:bold;margin-top:10px;display:block}
input,select,textarea,button{width:100%;padding:10px;margin-top:5px}
button{background:#0bb37b;color:#fff;border:none;border-radius:6px}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:6px;text-align:center;font-size:13px}
th{background:#0a7cff;color:#fff}
</style>
</head>

<body>

<header>
<h1>ğŸ—³ï¸ Sistema Oficial â€“ Brookasil</h1>
<p>FiliaÃ§Ã£o PartidÃ¡ria & Registro de Obras</p>
</header>

<nav>
<button onclick="mostrar('filiacao')">ğŸ“„ FiliaÃ§Ã£o</button>
<button onclick="mostrar('obras')">ğŸ—ï¸ Obras</button>
<button onclick="mostrar('adm')">ğŸ” ADM</button>
</nav>

<main>

<!-- ================= FILIAÃ‡ÃƒO ================= -->
<div id="filiacao" class="box">
<h2>ğŸ“„ FiliaÃ§Ã£o PartidÃ¡ria</h2>

<form id="formFiliacao">
<label>Nome</label><input id="nome" required>
<label>CPF (RP)</label>
<input
  type="text"
  id="cpf"
  placeholder="000.000.000-00"
  required>
<label>Zona Eleitoral</label>
<select id="zona" required>
  <option value="">Selecione</option>

  <optgroup label="BH">
    <option>BH-01</option><option>BH-02</option><option>BH-03</option><option>BH-04</option>
    <option>BH-05</option><option>BH-06</option><option>BH-07</option><option>BH-08</option>
    <option>BH-09</option><option>BH-10</option><option>BH-11</option><option>BH-12</option>
    <option>BH-13</option><option>BH-14</option>
  </optgroup>

  <optgroup label="NC">
    <option>NC-01</option><option>NC-02</option><option>NC-03</option><option>NC-04</option>
    <option>NC-05</option><option>NC-06</option><option>NC-07</option><option>NC-08</option>
    <option>NC-09</option><option>NC-10</option><option>NC-11</option>
  </optgroup>

  <optgroup label="CT">
    <option>CT-01</option><option>CT-02</option><option>CT-03</option><option>CT-04</option>
    <option>CT-05</option><option>CT-06</option><option>CT-07</option><option>CT-08</option>
    <option>CT-09</option><option>CT-10</option><option>CT-11</option><option>CT-12</option>
  </optgroup>

  <optgroup label="FM">
    <option>FM-01</option><option>FM-02</option><option>FM-03</option><option>FM-04</option>
    <option>FM-05</option><option>FM-06</option><option>FM-07</option><option>FM-08</option>
    <option>FM-09</option><option>FM-10</option>
  </optgroup>

  <optgroup label="FX">
    <option>FX-01</option><option>FX-02</option><option>FX-03</option><option>FX-04</option>
    <option>FX-05</option><option>FX-06</option><option>FX-07</option><option>FX-08</option>
    <option>FX-09</option><option>FX-10</option><option>FX-11</option><option>FX-12</option>
    <option>FX-13</option><option>FX-14</option>
  </optgroup>
</select>
 
<label>Lado PolÃ­tico</label>
<select id="lado" required>
<option value="">Selecione</option>
<option>Direita</option>
<option>Centro</option>
<option>Esquerda</option>
</select>

<label>Partido</label>
<select id="partido" required>
<option value="">Selecione o lado</option>
</select>

<button type="submit">Confirmar</button>
</form>

<h3>ğŸ“Š Partidos</h3>
<table><tbody id="contadorPartidos"></tbody></table>

<h3>ğŸ—ºï¸ Zonas</h3>
<table><tbody id="contadorZonas"></tbody></table>
</div>

<!-- ================= OBRAS ================= -->
<div id="obras" class="box hidden">
<h2>ğŸ—ï¸ Registro de Obras</h2>

<form id="formObra">
<label>Nome da obra</label>
<input id="obraNome" required>

<label>Cargo</label>
<select id="obraCargo" required>
<option value="">Selecione</option>
<option>Prefeito</option>
<option>Governador</option>
<option>Presidente</option>
</select>

<label>Local (Cidade / Estado / PaÃ­s)</label>
<input id="obraLocal" required>

<label>DescriÃ§Ã£o</label>
<textarea id="obraDesc" required></textarea>

<label>Senha do cargo</label>
<input type="password" id="obraSenha" required>

<button type="submit">Registrar Obra</button>
</form>

<table>
<thead><tr><th>Obra</th><th>Cargo</th><th>Local</th></tr></thead>
<tbody id="listaObras"></tbody>
</table>
</div>

<!-- ================= ADM ================= -->
<div id="adm" class="box hidden">
<h2>ğŸ” Painel ADM</h2>
<input type="password" id="senhaAdm" placeholder="Senha ADM">
<button onclick="entrarAdm()">Entrar</button>

<div id="areaAdm" class="hidden">
<p><b>Total FiliaÃ§Ãµes:</b> <span id="totalF"></span></p>
<p><b>Total Obras:</b> <span id="totalO"></span></p>
<button onclick="apagarTudo()" style="background:#d9534f">ğŸ—‘ï¸ Apagar tudo</button>
</div>
</div>

</main>

<!-- ================= FIREBASE ================= -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
 apiKey: "SUA_API_KEY",
 authDomain: "filiacao-rp.firebaseapp.com",
 databaseURL: "https://filiacao-rp-default-rtdb.firebaseio.com",
 projectId: "filiacao-rp"
});
const db = firebase.database();
</script>

<script>
const SENHA_ADM = "Brookasil1234";
const SENHAS_CARGOS = {
 Prefeito:"pÃ³pÃ³30",
 Governador:"caiado44",
 Presidente:"henrique44"
};

const partidos = {
Direita:[
"PL (22) â€“ Partido Liberal",
"PP (11) â€“ Progressistas",
"Republicanos (10) â€“ Republicanos",
"PRTN (75) â€“ Partido Republicano Trabalhista Nacional",
"Patriota (51) â€“ Patriota",
"PRTB (28) â€“ Partido Renovador Trabalhista Brasileiro",
"NOVO (30) â€“ Partido Novo",
"PMB (35) â€“ Partido da Mulher Brasileira",
"DC (27) â€“ Democracia CristÃ£",
"UDB (38) â€“ UniÃ£o da Direita Brookasileira",
"Agir (36) â€“ Agir",
"POL (81) â€“ Partido da Ordem e Liberdade",
"ACN (84) â€“ AlianÃ§a CristÃ£ Nacional",
"PRONA (57) â€“ Partido da ReedificaÃ§Ã£o da Ordem Nacional",
"PDC (17) â€“ Partido Democrata CristÃ£o",
"PESP (48) â€“ Partido da EsperanÃ§a",
"PMNL (86) â€“ Partido Militar Nacionalista"
],

Centro:[
"MDB (15) â€“ Movimento DemocrÃ¡tico Brasileiro",
"UNIÃƒO (44) â€“ UniÃ£o Brasil",
"PSD (55) â€“ Partido Social DemocrÃ¡tico",
"Podemos (20) â€“ Podemos",
"PSDB (45) â€“ Partido da Social Democracia Brasileira",
"Cidadania (23) â€“ Cidadania",
"Solidariedade (77) â€“ Solidariedade",
"Avante (70) â€“ Avante",
"PMN (33) â€“ Partido da MobilizaÃ§Ã£o Nacional",
"PV (43) â€“ Partido Verde",
"PUN (42) â€“ Partido da UniÃ£o Nacional",
"MPD (37) â€“ Movimento Popular DemocrÃ¡tico",
"PDM (26) â€“ Partido da MudanÃ§a",
"MTB (63) â€“ Movimento Trabalhista Brookasileiro",
"PTD (46) â€“ Partido Trabalhista DemocrÃ¡tico",
"PDSD (88) â€“ Partido do Sindicato Democrata",
"MSS (14) â€“ Partido MissÃ£o"
],

Esquerda:[
"PT (13) â€“ Partido dos Trabalhadores",
"PSOL (50) â€“ Partido Socialismo e Liberdade",
"PCdoB (65) â€“ Partido Comunista do Brasil",
"Rede (18) â€“ Rede Sustentabilidade",
"PDT (12) â€“ Partido DemocrÃ¡tico Trabalhista",
"UP (80) â€“ Unidade Popular",
"PCO (29) â€“ Partido da Causa OperÃ¡ria",
"PCB (21) â€“ Partido Comunista Brasileiro",
"PSTU (16) â€“ Partido Socialista dos Trabalhadores Unificado",
"PPL (54) â€“ Partido PÃ¡tria Livre",
"PSB (40) â€“ Partido Socialista Brasileiro",
"PFS (60) â€“ Partido da Frente Socialista",
"PS (56) â€“ Partido Socialista",
"PSTN (31) â€“ Partido Social Trabalhista Nacional"
]
};

lado.onchange=()=>{
 partido.innerHTML="<option></option>";
 partidos[lado.value].forEach(p=>{
  let o=document.createElement("option");
  o.textContent=p;
  partido.appendChild(o);
 });
};

formFiliacao.onsubmit=e=>{
 e.preventDefault();
 db.ref("filiacoes").push({nome:nome.value,zona:zona.value,partido:partido.value});
 formFiliacao.reset();
};

db.ref("filiacoes").on("value",s=>{
 let d=s.val()||{},p={},z={};
 contadorPartidos.innerHTML="";
 contadorZonas.innerHTML="";
 Object.values(d).forEach(f=>{
  p[f.partido]=(p[f.partido]||0)+1;
  z[f.zona]=(z[f.zona]||0)+1;
 });
 for(let k in p)contadorPartidos.innerHTML+=`<tr><td>${k}</td><td>${p[k]}</td></tr>`;
 for(let k in z)contadorZonas.innerHTML+=`<tr><td>${k}</td><td>${z[k]}</td></tr>`;
 total.textContent=Object.keys(d).length;
});

formObra.onsubmit=e=>{
 e.preventDefault();
 if(SENHAS_CARGOS[obraCargo.value]!==obraSenha.value){
  alert("Senha invÃ¡lida");
  return;
 }
 db.ref("obras").push({
  nome:obraNome.value,
  cargo:obraCargo.value,
  local:obraLocal.value,
  desc:obraDesc.value
 });
 formObra.reset();
};

db.ref("obras").on("value",s=>{
 let d=s.val()||{};
 listaObras.innerHTML="";
 Object.values(d).forEach(o=>{
  listaObras.innerHTML+=`<tr><td>${o.nome}</td><td>${o.cargo}</td><td>${o.local}</td></tr>`;
 });
 totalO.textContent=Object.keys(d).length;
});

function entrarAdm(){
 if(senhaAdm.value===SENHA_ADM)areaAdm.classList.remove("hidden");
 else alert("Senha incorreta");
}

function apagarTudo(){
 if(confirm("Apagar TUDO?")){
  db.ref().remove();
 }
}

function mostrar(id){
 document.querySelectorAll(".box").forEach(b=>b.classList.add("hidden"));
 document.getElementById(id).classList.remove("hidden");
}
</script>

</body>
</html>
