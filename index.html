<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Brookasil RP ‚Äì Sistema</title>
<style>
body{font-family:Arial;background:#eef4f7;margin:0}
header{background:#0a7cff;color:#fff;padding:20px;text-align:center}
main{max-width:1200px;margin:auto;padding:20px}
.box{background:#fff;padding:20px;border-radius:12px;margin-bottom:25px}
label{font-weight:bold;display:block;margin-top:10px}
input,select,textarea,button{width:100%;padding:8px;margin-top:5px}
button{background:#0bb37b;color:#fff;border:none;border-radius:6px;cursor:pointer}
.hidden{display:none}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:6px;text-align:center}
th{background:#0a7cff;color:#fff}
</style>
</head>

<body>
<header><h1>üó≥Ô∏è Brookasil RP</h1></header>
<main>

<!-- FILIA√á√ÉO -->
<div class="box">
<h2>üìÑ Filia√ß√£o</h2>
<form id="formFiliacao">

<label>Nome completo</label>
<input id="nome" required>

<label>Data de nascimento</label>
<input type="date" id="nascimento" required>

<label>CPF (RP)</label>
<input type="number" id="cpf" inputmode="numeric" required>

<label>TikTok</label>
<input id="tiktok" required>

<label>Zona Eleitoral</label>
<select id="zona" required>
  <option value="">Selecione</option>

  <optgroup label="BH">
    <option>BH-01</option><option>BH-02</option><option>BH-03</option><option>BH-04</option>
    <option>BH-05</option><option>BH-06</option><option>BH-07</option><option>BH-08</option>
    <option>BH-09</option><option>BH-10</option><option>BH-11</option><option>BH-12</option>
    <option>BH-13</option><option>BH-14</option>
  </optgroup>

  <optgroup label="NC">
    <option>NC-01</option><option>NC-02</option><option>NC-03</option><option>NC-04</option>
    <option>NC-05</option><option>NC-06</option><option>NC-07</option><option>NC-08</option>
    <option>NC-09</option><option>NC-10</option><option>NC-11</option>
  </optgroup>

  <optgroup label="CT">
    <option>CT-01</option><option>CT-02</option><option>CT-03</option><option>CT-04</option>
    <option>CT-05</option><option>CT-06</option><option>CT-07</option><option>CT-08</option>
    <option>CT-09</option><option>CT-10</option><option>CT-11</option><option>CT-12</option>
  </optgroup>

  <optgroup label="FM">
    <option>FM-01</option><option>FM-02</option><option>FM-03</option><option>FM-04</option>
    <option>FM-05</option><option>FM-06</option><option>FM-07</option><option>FM-08</option>
    <option>FM-09</option><option>FM-10</option>
  </optgroup>

  <optgroup label="FX">
    <option>FX-01</option><option>FX-02</option><option>FX-03</option><option>FX-04</option>
    <option>FX-05</option><option>FX-06</option><option>FX-07</option><option>FX-08</option>
    <option>FX-09</option><option>FX-10</option><option>FX-11</option><option>FX-12</option>
    <option>FX-13</option><option>FX-14</option>
  </optgroup>
</select>

<label>Lado Pol√≠tico</label>
<select id="lado" required>
<option value="">Selecione</option>
<option>Direita</option>
<option>Centro</option>
<option>Esquerda</option>
</select>

<label>Partido</label>
<select id="partido" required></select>

<button>Confirmar</button>
</form>
</div>

<!-- ESTAT√çSTICAS -->
<div class="box">
<h2>üìä Estat√≠sticas</h2>
<table><thead><tr><th>Partido</th><th>Total</th></tr></thead>
<tbody id="contadorPartidos"></tbody></table>

<table><thead><tr><th>Zona</th><th>Total</th></tr></thead>
<tbody id="contadorZonas"></tbody></table>
</div>

<!-- PAINEL ADM -->
<div class="box">
<h2>üîê Painel ADM</h2>
<input type="password" id="senhaAdm" placeholder="Senha">
<button onclick="entrarAdm()">Entrar</button>

<div id="areaAdm" class="hidden">
<p>Total: <b id="total"></b></p>
<table>
<thead><tr><th>Nome</th><th>CPF</th><th>Zona</th><th>Partido</th><th>TikTok</th></tr></thead>
<tbody id="listaFiliados"></tbody>
</table>
</div>
</div>

<!-- OBRAS -->
<div class="box">
<h2>üèóÔ∏è Registrar Obra</h2>
<select id="cargoObra">
<option value="">Cargo</option>
<option>Prefeito</option>
<option>Governador</option>
<option>Presidente</option>
</select>
<input type="password" id="senhaObra" placeholder="Senha do cargo">
<input id="tituloObra" placeholder="T√≠tulo">
<textarea id="descricaoObra" placeholder="Descri√ß√£o"></textarea>
<input id="localObra" placeholder="Local">
<button onclick="registrarObra()">Registrar</button>
</div>

<div class="box">
<h2>üìã Obras</h2>
<table>
<thead><tr><th>T√≠tulo</th><th>Cargo</th><th>Local</th><th>Descri√ß√£o</th><th>Data</th><th>A√ß√µes</th></tr></thead>
<tbody id="listaObras"></tbody>
</table>
</div>

</main>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
databaseURL:"https://filiacao-rp-default-rtdb.firebaseio.com"
});
const db=firebase.database();

/* PARTIDOS */
const partidos = {
Direita:[
"PL (22) ‚Äì Partido Liberal",
"PP (11) ‚Äì Progressistas",
"Republicanos (10) ‚Äì Republicanos",
"PRTN (75) ‚Äì Partido Republicano Trabalhista Nacional"
"Patriota (51) ‚Äì Patriota",
"PRTB (28) ‚Äì Partido Renovador Trabalhista Brasileiro",
"NOVO (30) ‚Äì Partido Novo",
"PMB (35) ‚Äì Partido da Mulher Brasileira",
"DC (27) ‚Äì Democracia Crist√£",
"UDB (38) ‚Äì Uni√£o da Direita Brookasileira",
"Agir (36) ‚Äì Agir",
"POL (81) ‚Äì Partido da Ordem e Liberdade",
"ACN (84) ‚Äì Alian√ßa Crist√£ Nacional",
"PRONA (57) ‚Äì Partido da Reedifica√ß√£o da Ordem Nacional",
"PDC (17) ‚Äì Partido Democrata Crist√£o",
"PESP (48) ‚Äì Partido da Esperan√ßa",
"PMNL (86) ‚Äì Partido Militar Nacionalista"
],

Centro:[
"MDB (15) ‚Äì Movimento Democr√°tico Brasileiro",
"UNI√ÉO (44) ‚Äì Uni√£o Brasil",
"PSD (55) ‚Äì Partido Social Democr√°tico",
"Podemos (20) ‚Äì Podemos",
"PSDB (45) ‚Äì Partido da Social Democracia Brasileira",
"Cidadania (23) ‚Äì Cidadania",
"Solidariedade (77) ‚Äì Solidariedade",
"Avante (70) ‚Äì Avante",
"PMN (33) ‚Äì Partido da Mobiliza√ß√£o Nacional",
"PV (43) ‚Äì Partido Verde",
"PUN (42) ‚Äì Partido da Uni√£o Nacional",
"MPD (37) ‚Äì Movimento Popular Democr√°tico",
"PDM (26) ‚Äì Partido da Mudan√ßa",
"MTB (63) ‚Äì Movimento Trabalhista Brookasileiro",
"PTD (46) ‚Äì Partido Trabalhista Democr√°tico",
"PDSD (88) ‚Äì Partido do Sindicato Democrata",
"MSS (14) ‚Äì Partido Miss√£o"
],

Esquerda:[
"PT (13) ‚Äì Partido dos Trabalhadores",
"PSOL (50) ‚Äì Partido Socialismo e Liberdade",
"PCdoB (65) ‚Äì Partido Comunista do Brasil",
"Rede (18) ‚Äì Rede Sustentabilidade",
"PDT (12) ‚Äì Partido Democr√°tico Trabalhista",
"UP (80) ‚Äì Unidade Popular",
"PCO (29) ‚Äì Partido da Causa Oper√°ria",
"PCB (21) ‚Äì Partido Comunista Brasileiro",
"PSTU (16) ‚Äì Partido Socialista dos Trabalhadores Unificado",
"PPL (54) ‚Äì Partido P√°tria Livre",
"PSB (40) ‚Äì Partido Socialista Brasileiro",
"PFS (60) ‚Äì Partido da Frente Socialista",
"PS (56) ‚Äì Partido Socialista",
"PSTN (31) ‚Äì Partido Social Trabalhista Nacional"
]
};

lado.onchange=()=>{
partido.innerHTML="";
partidos[lado.value].forEach(p=>{
let o=document.createElement("option");
o.textContent=p;
partido.appendChild(o);
});
};

/* FILIA√á√ÉO */
formFiliacao.onsubmit=e=>{
e.preventDefault();
db.ref("filiacoes").push({
nome:nome.value,
nascimento:nascimento.value,
cpf:cpf.value,
tiktok:tiktok.value,
zona:zona.value,
partido:partido.value
});
formFiliacao.reset();
};

/* CONTAGEM */
db.ref("filiacoes").on("value",s=>{
let d=s.val()||{},p={},z={};
contadorPartidos.innerHTML="";
contadorZonas.innerHTML="";
listaFiliados.innerHTML="";
Object.values(d).forEach(f=>{
p[f.partido]=(p[f.partido]||0)+1;
z[f.zona]=(z[f.zona]||0)+1;
listaFiliados.innerHTML+=`<tr><td>${f.nome}</td><td>${f.cpf}</td><td>${f.zona}</td><td>${f.partido}</td><td>${f.tiktok}</td></tr>`;
});
for(let k in p)contadorPartidos.innerHTML+=`<tr><td>${k}</td><td>${p[k]}</td></tr>`;
for(let k in z)contadorZonas.innerHTML+=`<tr><td>${k}</td><td>${z[k]}</td></tr>`;
total.textContent=Object.keys(d).length;
});

/* ADM */
function entrarAdm(){
if(senhaAdm.value==="Brookasil1234") areaAdm.classList.remove("hidden");
}

/* OBRAS */
const SENHAS={Prefeito:"popo30",Governador:"caiado44",Presidente:"henrique44"};

function registrarObra(){
if(SENHAS[cargoObra.value]!==senhaObra.value) return alert("Senha errada");
db.ref("obras").push({
cargo:cargoObra.value,
titulo:tituloObra.value,
descricao:descricaoObra.value,
local:localObra.value,
data:new Date().toLocaleDateString("pt-BR")
});
}

db.ref("obras").on("value",s=>{
listaObras.innerHTML="";
Object.entries(s.val()||{}).forEach(([id,o])=>{
listaObras.innerHTML+=`
<tr>
<td>${o.titulo}</td>
<td>${o.cargo}</td>
<td>${o.local}</td>
<td>${o.descricao}</td>
<td>${o.data}</td>
<td>
<button onclick="db.ref('obras/${id}').remove()">üóëÔ∏è</button>
</td>
</tr>`;
});
});
</script>

</body>
</html>
